{% extends 'base.html.twig' %}

{% block title %}Profil{% endblock %}

{% block body %}
      {% include '__fragments/nav.html.twig' %}

      {# contenu #}
    <div class="content">
                        <div class="mb-9">
                        <div class="row g-6">
                            <div class="col-12 col-xl-4">
                            <div class="card mb-5">
                            {{ form_start(form) }}
                                <div class="card-header hover-actions-trigger position-relative mb-6" style="min-height: 130px; ">
                                <div class="bg-holder rounded-top" style="background-image: linear-gradient(0deg, #000000 -3%, rgba(0, 0, 0, 0) 83%), url({{asset(user.photoProfil)}})">
                                    {# <input class="d-none" id="upload-settings-cover-image" type="file" /> #}
                                    <label class="cover-image-file-input" for="upload-settings-cover-image">
                                    </label>
                                    <div class="hover-actions end-0 bottom-0 pe-1 pb-2 text-white"><span class="fa-solid fa-camera me-2"></span></div>
                                </div>
                                 {#  <input class="d-none" id="upload-settings-porfile-picture" type="file" /> #}                             
                                <label class="avatar avatar-4xl status-online feed-avatar-profile cursor-pointer" for="upload-settings-porfile-picture">
                                <img class="rounded-circle img-thumbnail bg-white shadow-sm" src="{{asset(user.photoProfil)}}" width="200" alt="" />
                                </label>
                                </div>
                                <div class="card-body">
                                <div class="row">
                                    <div class="col-12">
                                    <div class="d-flex flex-wrap mb-2 align-items-center">
                                        <h3 class="me-2">{{user.nom}}</h3><span class="fw-normal fs-0">
                                    </div>
                                    <div class="d-flex d-xl-block d-xxl-flex align-items-center">
                                        <div class="d-flex mb-xl-2 mb-xxl-0"><span class="fa-solid fa-envelope fs--2 me-2 me-lg-1 me-xl-2"></span>
                                        <h6 class="d-inline-block mb-0">Email<span class="fw-semi-bold ms-1 me-4">{{user.email}}</span></h6> 
                                        </div>
                                        <div class="d-flex"><span class="fa-solid fa-user-check fs--2 me-2 me-lg-1 me-xl-2"></span>
                                        <h6 class="d-block d-xl-inline-block mb-0">RÃ´le<span class="fw-semi-bold ms-1"> {{user.roles|join(',') }} </span></h6>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                            </div>
                            <div class="col-12 col-xl-8">
                            <div class="">
                                <div class="mb-6">
                                <h4 class="mb-4">Information Personnel </h4>
                                    
                                <div class="row g-3">
                                    <div class="col-12 col-sm-6">
                                    <div class="form-icon-container">
                                        <div class="form-floating">
                                            {# <input class="form-control form-icon-input" id="firstName" type="text" placeholder="First Name" /> #}
                                            {{ form_widget(form.nom) }}
                                            <label class="text-700 form-icon-label" for="firstName">NOM</label></div>
                                            <span class="fa-solid fa-user text-900 fs--1 form-icon"></span>
                                    </div>
                                    </div>
                                    <div class="col-12 col-sm-6">
                                    <div class="form-icon-container">
                                        <div class="form-floating"><input class="form-control form-icon-input" id="lastName" type="text" placeholder="Last Name" />
                                        <label class="text-700 form-icon-label" for="lastName">PRENOM</label></div><span class="fa-solid fa-user text-900 fs--1 form-icon"></span>
                                    </div>
                                    </div>
                                    <div class="col-12 col-sm-6">
                                    <div class="form-icon-container">
                                        <div class="form-floating">
                                        {# <input class="form-control form-icon-input" id="emailSocial" type="email" placeholder="Email" /> #}
                                        {{ form_widget(form.email) }}
                                        <label class="text-700 form-icon-label" for="emailSocial">EMAIL</label></div>
                                        <span class="fa-solid fa-envelope text-900 fs--1 form-icon"></span>
                                    </div>
                                    </div>
                                    <div class="col-12 col-sm-6">
                                    <div class="form-icon-container">
                                        <div class="form-floating"><input class="form-control form-icon-input" id="phone" type="tel" placeholder="Phone" />
                                        <label class="text-700 form-icon-label" for="phone">TELEPHONE</label></div>
                                        <span class="fa-solid fa-phone text-900 fs--1 form-icon"></span>
                                    </div>
                                    </div>
                                    <div class="mt-5 col-12 col-sm-12">
                                    <div class="border-bottom border-300 mb-0">
                                        <div class="mb-6">
                                        <h4 class="mb-3">Changer la photo de profil </h4>                                  
                                        {{ form_widget(form.photoProfil) }}     
                                        {# <label class="text-700 form-icon-label" for="info">Info</label></div>
                                        <span class="fa-solid fa-circle-info text-900 fs--1 form-icon">
                                        </span> #}
                                    </div>
                                    </div>
                                </div>
                                </div>
                                <div class="row gx-3 mt-0 mb-6 gy-6 gy-sm-3">
                                <div class="col-12 col-sm-8">
                                    <h4 class="mb-4">Changer le mot de passe</h4>
                                    <div class="form-icon-container mb-3">
                                    <div class="form-floating">
                                    {{ form_widget(form.oldPassword) }}
                                    <label class="text-700 form-icon-label" for="oldPassword">Ancien mot de passe</label></div>
                                    <span class="fa-solid fa-lock text-900 fs--1 form-icon"></span>
                                    </div>
                                    <div class="form-icon-container mb-3">
                                    <div class="form-floating">
                                    {{ form_widget(form.newPassword) }}
                                    <label class="text-700 form-icon-label" for="newPassword">Nouveu Mot de Passe</label></div>
                                    <span class="fa-solid fa-key text-900 fs--1 form-icon"></span>
                                    </div>
                                    <div class="form-icon-container">
                                    <div class="form-floating">
                                    {{ form_widget(form.confirmPassword) }}
                                    <label class="text-700 form-icon-label" for="newPassword2">Confirmer Mot de Passe</label></div>
                                    <span class="fa-solid fa-key text-900 fs--1 form-icon"></span>
                                    </div>
                                </div>
                                </div>
                                </div>
                                <div class="text-end mb-6">
                                <div><a href="{{ path('app_achat_detail_index') }}" class="btn btn-phoenix-secondary me-2">Retour</a>
                                <button class="btn btn-success">Enregister les informations</button></div>
                                </div>
                            {{ form_end(form) }}
                            </div>
                            </div>
                        </div>
                    </div>
{% endblock %}

{% extends 'base.html.twig' %}

{% block title %}Créer un enregistrement BMO{% endblock %}

{% block body %}
      {% include '__fragments/nav.html.twig' %}

      {# contenu #}
      <div class="content">
        <div class="pb-5">
          <div class="row g-4">
            <div class="col-12 col-xxl-6">
                <div class="mb-8">
                    <h1>Ajouter une opération </h1>

                    {{ include('bmo/_form.html.twig') }}

                </div> 
                <a class="text-primary mt-3" href="{{ path('app_b_m_o_index') }}">Retour</a>
            </div> 
          </div>
        </div>
      </div>
                    
      <!-- Modal pour le message d'erreur -->
      {# <div class="modal fade" id="solde-insuffisant-modal" tabindex="-1" role="dialog" aria-labelledby="solde-insuffisant-modal-label" aria-hidden="true">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="solde-insuffisant-modal-label">Solde Insuffisant</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                  <div class="modal-body">
                      Le solde de la caisse est insuffisant pour effectuer ce retrait.
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                  </div>
              </div>
          </div>
      </div> #}
    
      {# {% if solde_insuffisant %}
        <script>
            $(document).ready(function() {
                $('#solde-insuffisant-modal').modal('show');
            });
        </script>
    {% endif %} #}
{% endblock %}

{% block javascripts %}
    <!-- Ajoutez les imports nécessaires pour Bootstrap et jQuery -->
    <script>
        {% if form.vars.errors|length > 0 and form.vars.errors.form|length > 0 %}
            // Affichez automatiquement le modal si le formulaire contient des erreurs de validation
            $(document).ready(function() {
                $('#solde-insuffisant-modal').modal('show');
            });
        {% endif %}
    </script>
{% endblock %}
